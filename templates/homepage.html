<!DOCTYPE html>
<html lang="en" id="html" class="dark">
<head>
    <meta charset="UTF-8"/>
    <title>DeepSeek</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {darkMode: 'class'};
    </script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="../static/homepage_script.js"></script>
    <link rel="stylesheet" href="../static/homepage_style.css">
</head>
<body class="flex flex-col h-screen w-screen bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-100">

<header class="absolute top-4 left-4 flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-white shadow-md z-50 rounded-xl">
    <div class="relative" id="modelDropdownWrapper">
        <button id="modelDropdownButton"
                class="flex items-center text-xl font-semibold px-3 py-1 border border-transparent bg-transparent text-gray-900 dark:text-white focus:outline-none cursor-pointer">
            <span id="selectedModel">Loading...</span>
            <svg id="dropdownIcon" class="ml-2 w-4 h-4 transition-transform duration-200" fill="none"
                 stroke="currentColor" stroke-width="2"
                 viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
            </svg>
        </button>
        <div id="modelDropdownMenu"
             class="hidden absolute left-0 mt-2 w-full z-10 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto">
        </div>
    </div>
    <input type="hidden" id="modelInput" name="model"/>
    <button id="toggleDark"
            class="ml-4 text-xl text-yellow-500 dark:text-yellow-300 bg-transparent hover:text-yellow-400 transition">
        ðŸŒ™
    </button>
</header>

<main class="flex-grow overflow-hidden flex flex-col items-center pt-20 bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100">
    <div class="w-full max-w-3xl flex flex-col px-6 py-6 overflow-y-auto h-full scrollbar-thin scrollbar-thumb-gray-400/40 scrollbar-thumb-rounded-md pb-6"
         id="conversationHistory"></div>
</main>

<form id="queryForm" class="bg-gray-100 dark:bg-gray-900 w-full flex justify-center p-4 shadow-inner">
    <div class="relative w-full max-w-3xl">
      <textarea id="inputText" name="query" rows="3" placeholder="Send a message..." required
                class="w-full border border-gray-400 dark:border-gray-600 bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 rounded-lg pr-14 p-4 resize-none focus:ring-indigo-500 focus:border-indigo-500"></textarea>

        <button type="submit" id="submitBtn"
                class="absolute bottom-3 right-3 w-10 h-10 flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 text-white rounded-full shadow transition disabled:opacity-50">
            âž”
        </button>

        <div id="loading"
             class="hidden absolute bottom-3 left-3 text-base text-gray-500 dark:text-gray-300 pointer-events-none">
            <span class="animate-spin inline-block w-5 h-5 border-2 border-current border-t-transparent rounded-full"></span>
            Thinking...
        </div>
    </div>
</form>

</body>
</html>
